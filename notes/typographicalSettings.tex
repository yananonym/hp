% typographicalSettings.tex
% Manuscript content

\usepackage{fontspec}
\defaultfontfeatures{Ligatures=TeX, Scale=MatchLowercase}

% - Main multilingual fonts (Updated to Cormorant Garamond):
\setmainfont{Cormorant Garamond}[
  UprightFeatures = {Renderer=ICU, Script=Default},
  BoldFeatures    = {Renderer=ICU, Script=Default},
  ItalicFeatures  = {Renderer=ICU, Script=Default},
  BoldItalicFeatures = {Renderer=ICU, Script=Default}
]
\setsansfont{Noto Sans}

% - Title font (Updated to Cormorant Garamond):
\newfontfamily\titlefont{Cormorant Garamond}[Scale=1.25, Ligatures=TeX]

% - Script fonts (Using Noto for standard/complex scripts for maximum coverage):
\newfontfamily\greekfont{Noto Serif}
\newfontfamily\polishfont{Noto Serif}
\newfontfamily\cyrillicfont{Noto Serif}
\newfontfamily\latinfont{Noto Serif}

% Noto fonts are widely accepted and standard for complex scripts like Arabic/Devanagari/CJK
\newfontfamily\arabicfont{Noto Naskh Arabic} 
\newfontfamily\devanagarifont{Noto Serif Devanagari}
\newfontfamily\sanskritfont{Noto Serif Devanagari}
\newfontfamily\japanesefont{Noto Serif CJK JP}
\newfontfamily\chinesefont{Noto Serif CJK SC}
\newfontfamily\tibetanfont{Noto Serif Tibetan}

% - Language support:
\usepackage{polyglossia}
\setdefaultlanguage{english}
\setotherlanguages{polish,french,german,greek,sanskrit,arabic,tibetan,chinese,japanese}
\setlanguagefont{chinese}{Noto Serif CJK SC}
\setlanguagefont{tibetan}{Noto Serif Tibetan}
\newcommand{\tibetanscript}[1]{{\tibetanfont #1}}

% - Microtypography and quotations:
\usepackage{microtype}
\usepackage{csquotes}

% - Geometry and spacing:
\usepackage{geometry}
\geometry{margin=1in}
\usepackage{setspace}
\setstretch{1.61}

% - Paragraph indentation:
\setlength{\parindent}{1.5in}
\setlength{\parskip}{0pt}

% - Section formatting:
\usepackage{titlesec}
\titleformat{\section}{\normalfont\Large\bfseries\titlefont}{\Roman{section}.}{1em}{}

% - TOC formatting:
\usepackage{tocloft}
\renewcommand{\cftsecnumwidth}{3em}
\renewcommand{\cftsecindent}{0em}
\setlength{\cftbeforesecskip}{0.5em}
\renewcommand{\cftdotsep}{1}

% - Math packages:
\usepackage{amsmath, amssymb, amsthm, mathtools}
\usepackage{physics}

% - Slash notation:
\newcommand{\slashed}[1]{\not{#1}}

% - Math operators:
\DeclareMathOperator{\supp}{supp}
\DeclareMathOperator{\diam}{diam}
\DeclareMathOperator{\spec}{spec}
\DeclareMathOperator{\Dom}{Dom}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\Lip}{Lip}

% - Theorem environments:
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{axiom}{Axiom}
\newtheorem{conjecture}[theorem]{Conjecture}

\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}

% - Bold theorem labels:
\makeatletter
\g@addto@macro\thm@headfont{\bfseries}
\makeatother

% - Bibliography:
\usepackage[round, numbers]{natbib}
\bibliographystyle{plainnat}

% - Hyperref:
\usepackage{hyperref}
\hypersetup{colorlinks=false, pdfborder={0 0 0}, hidelinks}

% - CUSTOM SECTION EPIGRAPH ENVIRONMENT (Replacing 'epigraph' package):
% Defined a custom environment to handle the quote formatting without external packages.
\newenvironment{sectionEpigraph}{%
    \par\vspace{2\baselineskip}\noindent\hspace*{\fill}%
    \begin{minipage}{0.58\textwidth}%
        \itshape\fontsize{11}{13}\selectfont
        \renewcommand{\thefootnote}{\fnsymbol{footnote}}%
        \setcounter{footnote}{1}%
        \leftskip=0pt\rightskip=0pt plus 1fil
}{%
    \end{minipage}%
    \hspace*{\fill}\par\vspace{\baselineskip}%
}

\newcommand{\epigraphsource}[1]{%
    \par\vspace{8pt}\noindent\hfill{\normalfont\itshape\normalsize #1}%
}

% - Lists:
\usepackage{enumitem}

% - Bookmark optimization:
\usepackage{bookmark}

% - Hyphenation settings:
\hyphenpenalty=8000
\exhyphenpenalty=8000


% - Page Numbering (Bottom Center):
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{} % Clear all header and footer fields
\renewcommand{\headrulewidth}{0pt} % Remove the horizontal line at the top
\fancyfoot[C]{\thepage} % Set page number to center of the footer

% Ensure that even on "plain" pages (like the first page of a chapter/section) 
% the style is consistent:
\fancypagestyle{plain}{
  \fancyhf{}
  \renewcommand{\headrulewidth}{0pt}
  \fancyfoot[C]{\thepage}
}
